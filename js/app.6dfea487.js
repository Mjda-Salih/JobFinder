(function(e){function t(t){for(var n,c,s=t[0],u=t[1],i=t[2],b=0,l=[];b<s.length;b++)c=s[b],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&l.push(o[c][0]),o[c]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);d&&d(t);while(l.length)l.shift()();return r.push.apply(r,i||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,c=1;c<a.length;c++){var s=a[c];0!==o[s]&&(n=!1)}n&&(r.splice(t--,1),e=u(u.s=a[0]))}return e}var n={},c={app:0},o={app:0},r=[];function s(e){return u.p+"js/"+({}[e]||e)+"."+{"chunk-11bf3d38":"0b861ce0","chunk-1ebc26d6":"aa7d01b6","chunk-2d0c15aa":"1115baa2","chunk-5a784d84":"57e578b5","chunk-1b2ca63e":"6ebafece","chunk-58082097":"86eace18","chunk-582736c8":"616bf1fe","chunk-58a2b052":"dda20234","chunk-5c516a74":"f6586215","chunk-650f374e":"37192ebb","chunk-776aa74a":"a1008ec8","chunk-9bacb288":"eccb40e8","chunk-9c45fc9c":"4f315be0","chunk-aee27420":"83ea248c","chunk-b6f3dfdc":"e175336f","chunk-e41f5488":"c49207e7"}[e]+".js"}function u(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,u),a.l=!0,a.exports}u.e=function(e){var t=[],a={"chunk-11bf3d38":1,"chunk-1ebc26d6":1,"chunk-5a784d84":1,"chunk-1b2ca63e":1,"chunk-58082097":1,"chunk-582736c8":1,"chunk-58a2b052":1,"chunk-5c516a74":1,"chunk-650f374e":1,"chunk-776aa74a":1,"chunk-9bacb288":1,"chunk-9c45fc9c":1,"chunk-aee27420":1,"chunk-b6f3dfdc":1,"chunk-e41f5488":1};c[e]?t.push(c[e]):0!==c[e]&&a[e]&&t.push(c[e]=new Promise((function(t,a){for(var n="css/"+({}[e]||e)+"."+{"chunk-11bf3d38":"3d425b17","chunk-1ebc26d6":"552058c2","chunk-2d0c15aa":"31d6cfe0","chunk-5a784d84":"833ba189","chunk-1b2ca63e":"3c49191d","chunk-58082097":"ced2dedf","chunk-582736c8":"86f9da61","chunk-58a2b052":"cd1925b8","chunk-5c516a74":"4fdc5d77","chunk-650f374e":"7ccb2141","chunk-776aa74a":"07077b12","chunk-9bacb288":"cd1925b8","chunk-9c45fc9c":"5b0f663a","chunk-aee27420":"58db0769","chunk-b6f3dfdc":"2e48cdd4","chunk-e41f5488":"e82a6dcb"}[e]+".css",o=u.p+n,r=document.getElementsByTagName("link"),s=0;s<r.length;s++){var i=r[s],b=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(b===n||b===o))return t()}var l=document.getElementsByTagName("style");for(s=0;s<l.length;s++){i=l[s],b=i.getAttribute("data-href");if(b===n||b===o)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var n=t&&t.target&&t.target.src||o,r=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=n,delete c[e],d.parentNode.removeChild(d),a(r)},d.href=o;var h=document.getElementsByTagName("head")[0];h.appendChild(d)})).then((function(){c[e]=0})));var n=o[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,a){n=o[e]=[t,a]}));t.push(n[2]=r);var i,b=document.createElement("script");b.charset="utf-8",b.timeout=120,u.nc&&b.setAttribute("nonce",u.nc),b.src=s(e);var l=new Error;i=function(t){b.onerror=b.onload=null,clearTimeout(d);var a=o[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+n+": "+c+")",l.name="ChunkLoadError",l.type=n,l.request=c,a[1](l)}o[e]=void 0}};var d=setTimeout((function(){i({type:"timeout",target:b})}),12e4);b.onerror=b.onload=i,document.head.appendChild(b)}return Promise.all(t)},u.m=e,u.c=n,u.d=function(e,t,a){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(u.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)u.d(a,n,function(t){return e[t]}.bind(null,n));return a},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/",u.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],b=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var d=b;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);var n=a("f2bf");function c(e,t,a,c,o,r){const s=Object(n["P"])("router-view");return Object(n["I"])(),Object(n["k"])(s)}var o={name:"App",created(){Promise.all([this.$store.dispatch("getJobs"),this.$store.dispatch("getTopJobs"),this.$store.dispatch("getCountries")])}},r=(a("835c"),a("6b0d")),s=a.n(r);const u=s()(o,[["render",c]]);var i=u,b=a("6c02"),l=a("5502"),d=(a("0643"),a("4e3e"),{SET_USER(e,t){console.log("SET_USER mutation triggered with data:",t),e.user=t,console.log("Updated state.user:",e.user)},SET_USER_INFO(e,t){console.log("SET_USER_INFO mutation triggered with data:",t),e.userInfo=t,console.log("Updated state.userInfo:",e.userInfo)},CLEAR_USER(e){console.log("CLEAR_USER mutation triggered"),e.user=null,e.userInfo=null,console.log("Cleared state.user and state.userInfo:",e.user,e.userInfo)}}),h=a("f9f2"),p=a("be8c"),f=a("1494");const j={user:null,userInfo:null},m={get_user(e){return e.user},get_user_info(e){return e.userInfo}},O={async updateInfo({commit:e},t){let a=await Object(f["k"])(Object(f["d"])(h["b"],"users/"+h["a"].currentUser.uid),t).then(async()=>{const t=Object(f["i"])(Object(f["b"])(h["b"],"users"),Object(f["l"])("email","==",h["a"].currentUser.email)),a=await Object(f["e"])(t);a.forEach(t=>{e("SET_USER_INFO",t.data())})});return a},async getUserInfo({commit:e}){const t=Object(f["i"])(Object(f["b"])(h["b"],"users"),Object(f["l"])("email","==",h["a"].currentUser.email)),a=await Object(f["e"])(t);return a.forEach(t=>{e("SET_USER_INFO",t.data())}),a},async resetPassword(e,t){try{const e=await Object(p["d"])(h["a"],t);return e}catch(a){}},async login({commit:e,dispatch:t},a){try{const{email:n,password:c}=a,o=await Object(p["e"])(h["a"],n,c);return e("SET_USER",h["a"].currentUser),console.log("User logged in successfully:",h["a"].currentUser),await t("getUserInfo"),o}catch(n){throw console.error("Login failed:",n),n}},async logout({commit:e}){const t=await Object(p["f"])(h["a"]).then(()=>{e("CLEAR_USER")});return t},async sendEmail(){const e=await Object(p["c"])(h["a"].currentUser);return e},async register({dispatch:e},t){try{const{email:a,password:n,surname:c,firstName:o,address:r,contactNumber:s,type:u}=t;let i={email:a,firstName:o,surname:c,address:r,contactNumber:s,type:u};const b=await Object(p["a"])(h["a"],a,n).then(async()=>{await Object(f["j"])(Object(f["d"])(h["b"],"users",h["a"].currentUser.uid),i),e("sendEmail")});return b}catch(a){}},fetchUser({commit:e,dispatch:t}){h["a"].onAuthStateChanged(async a=>{null===a?e("CLEAR_USER"):a&&a.emailVerified?(t("getUserInfo"),e("SET_USER",a),x.isReady()&&"/login"==x.currentRoute.value.path&&x.push("/")):x.isReady()&&x.push("/login")})}};var g={namespaced:!1,state:j,getters:m,mutations:d,actions:O},y=(a("2382"),{SET_JOBS(e,t){e.jobs=t},SET_AUTHENTICATED_JOBS(e,t){e.authenticatedJobs=t},SET_TOP_JOBS(e,t){e.topJobs=t},DELETE_JOB(e,t){e.authenticatedJobs=e.authenticatedJobs.filter(e=>e.uid_job!=t)}}),E=a("9612");const k={jobs:null,authenticatedJobs:null,topJobs:null},w={get_jobs(e){return e.jobs},get_jobs_authenticated(e){return e.authenticatedJobs},get_top_jobs(e){return e.topJobs}},_={async updateJob(e,t){const a=await Object(f["e"])(Object(f["i"])(Object(f["b"])(h["b"],"jobs"),Object(f["l"])("uid_job","==",t.uid_job),Object(f["g"])(1)));let n="";t.skills.forEach((e,a)=>{t.skills.length-1!=a?n+=e+",":n+=e});let c={title:t.title,company:t.company,location:t.location,employmentType:t.employmentType,skills:n,description:t.description,updated_at:new Date(Date.now()).toLocaleString()};a.forEach(async e=>{const t=Object(f["d"])(h["b"],"jobs",e.id);Object(f["k"])(t,c)})},async addJob(e,t){let a="";t.skills.forEach((e,n)=>{t.skills.length-1!=n?a+=e+",":a+=e});let n={title:t.title,company:t.company,location:t.location,employmentType:t.employmentType,skills:a,description:t.description,author:h["a"].currentUser.uid,uid_job:E["a"].v4(),created_at:new Date(Date.now()).toLocaleString(),views:0};const c=await Object(f["j"])(Object(f["d"])(h["b"],"jobs",n.uid_job),n);return c},async updateViews(e,t){const a=await Object(f["e"])(Object(f["i"])(Object(f["b"])(h["b"],"jobs"),Object(f["l"])("uid_job","==",t),Object(f["g"])(1)));a.forEach(async e=>{const t=Object(f["d"])(h["b"],"jobs",e.id);let a=e.data().views;await Object(f["k"])(t,{views:++a})})},async getNbrJobsPerCountry({commit:e}){const t=await Object(f["e"])(Object(f["i"])(Object(f["b"])(h["b"],"countries"))),a=await Object(f["e"])(Object(f["i"])(Object(f["b"])(h["b"],"jobs")));let n=[],c=[],o={};t.forEach(e=>{n.push(e.data())}),a.forEach(e=>{c.push(e.data())});for(let r=0;r<n.length;r++){let e=0;for(let t=0;t<c.length;t++)c[t].location.toLowerCase()===n[r].name.toLowerCase()&&++e;o[n[r].code]=e}return o},async getJobs({commit:e}){const t=await Object(f["e"])(Object(f["i"])(Object(f["b"])(h["b"],"jobs")));let a=[];t.forEach(e=>{a.push(e.data())}),e("SET_JOBS",a)},async getTopJobs({commit:e}){const t=await Object(f["e"])(Object(f["i"])(Object(f["b"])(h["b"],"jobs"),Object(f["h"])("views","desc"),Object(f["g"])(3)));let a=[];t.forEach(e=>{a.push(e.data())}),e("SET_TOP_JOBS",a)},async getEmployerJobs({commit:e},t){const a=await Object(f["e"])(Object(f["i"])(Object(f["b"])(h["b"],"jobs"),Object(f["l"])("author","==",t)));let n=[];a.forEach(e=>{n.push(e.data())}),e("SET_AUTHENTICATED_JOBS",n)},async getJob(e,t){const a=await Object(f["e"])(Object(f["i"])(Object(f["b"])(h["b"],"jobs"),Object(f["l"])("uid_job","==",t)),Object(f["g"])(1));let n=[];return a.forEach(e=>{n.push(e.data())}),n},async deleteJob({commit:e},t){const a=await Object(f["c"])(Object(f["d"])(h["b"],"jobs",t));return e("DELETE_JOB",t),a},async applyForJob(e,t){const a=await Object(f["a"])(Object(f["b"])(h["b"],"jobsApply"),t);return a},async checkUserApply(e,t){const a=Object(f["i"])(Object(f["b"])(h["b"],"jobsApply"),Object(f["l"])("jobId","==",t.jobId)),n=await Object(f["e"])(Object(f["i"])(a,Object(f["l"])("candidateEmail","==",t.candidateEmail)));let c=[];return n.forEach(e=>{c.push(e.data())}),0!=c.length}};var v={namespaced:!1,state:k,mutations:y,getters:w,actions:_},S={ADD_JOBS_APPLIED(e,t){e.jobsApply.push(...t)},CLEAR_JOBS_APPLIED(e){e.jobsApply=[]}};const A={jobsApply:[],candidateJobs:[]},J={get_jobs_apply(e){return e.jobsApply},get_candidates(e){return e.jobsApply}},I={async getJobsDetails({commit:e},t){console.table(t);const a=await Object(f["e"])(Object(f["i"])(Object(f["b"])(h["b"],"jobs"),Object(f["l"])("uid_job","==",t.jobId)));let n=[];a.forEach(e=>{let a=e.data();n.push({...t,...a})}),e("ADD_JOBS_APPLIED",n)},async getJobsApply({commit:e,dispatch:t},a){e("CLEAR_JOBS_APPLIED"),await Object(f["e"])(Object(f["i"])(Object(f["b"])(h["b"],"jobsApply"),Object(f["l"])("candidateEmail","==",a))).then(e=>{e.forEach(e=>{let a=e.data();t("getJobsDetails",a)})})},async getCandidateApplies(e,t){let a=[],n=[];const c=await Object(f["e"])(Object(f["i"])(Object(f["b"])(h["b"],"jobsApply"),Object(f["l"])("jobId","==",t)));c.forEach(e=>{a.push(e.data())});for(let o=0;o<a.length;o++){const e=await Object(f["e"])(Object(f["i"])(Object(f["b"])(h["b"],"users"),Object(f["l"])("email","==",a[o].candidateEmail)));e.forEach(e=>{let t=e.data();n.push({...a[o],...t})})}return n},async updateStatusApply(e,t){const a=Object(f["i"])(Object(f["b"])(h["b"],"jobsApply"),Object(f["l"])("jobId","==",t.jobId)),n=await Object(f["e"])(Object(f["i"])(a,Object(f["l"])("candidateEmail","==",t.candidateEmail)));n.forEach(async e=>{const a=Object(f["d"])(h["b"],"jobsApply",e.id);Object(f["k"])(a,{status:t.status})})}};var T={namespaced:!1,state:A,mutations:S,getters:J,actions:I},U={SET_COUNTRIES(e,t){e.countries=t}};const P={countries:[]},C={get_countries(e){return e.countries}},R={async getCountries({commit:e}){const t=await Object(f["e"])(Object(f["i"])(Object(f["b"])(h["b"],"countries")));let a=[];t.forEach(e=>{a.push(e.data())}),e("SET_COUNTRIES",a)}};var L={namespaced:!1,state:P,mutations:U,actions:R,getters:C},D=a("0e44");const N=Object(D["a"])({paths:["auth"]});var B=Object(l["a"])({modules:{auth:g,job:v,jobsApply:T,countries:L},plugins:[N]});const V=[{path:"/",name:"HomePage",component:()=>Promise.all([a.e("chunk-11bf3d38"),a.e("chunk-5a784d84")]).then(a.bind(null,"f4a9"))},{path:"/:catchAll(.*)",name:"404",component:()=>a.e("chunk-e41f5488").then(a.bind(null,"8cdb"))},{path:"/manage-jobs",name:"ManageJobs",component:()=>a.e("chunk-58a2b052").then(a.bind(null,"79a9")),beforeEnter:(e,t,a)=>{B.state.auth.user&&B.state.auth.user.emailVerified?a():a("/login")}},{path:"/register",name:"Register",component:()=>a.e("chunk-b6f3dfdc").then(a.bind(null,"73cf")),beforeEnter:(e,t,a)=>{B.state.auth.user?a("/"):a()}},{path:"/login",name:"Login",component:()=>a.e("chunk-58082097").then(a.bind(null,"a55b")),beforeEnter:(e,t,a)=>{B.state.auth.user?a("/"):a()}},{path:"/register/job-seeker",name:"RegisterJobSeeker",component:()=>a.e("chunk-650f374e").then(a.bind(null,"ab88")),beforeEnter:(e,t,a)=>{B.state.auth.user?a("/"):a()}},{path:"/register/employer",name:"RegisterEmployer",component:()=>a.e("chunk-aee27420").then(a.bind(null,"9764")),beforeEnter:(e,t,a)=>{B.state.auth.user?a("/"):a()}},{path:"/forget-password",name:"ForgetPassword",component:()=>a.e("chunk-9c45fc9c").then(a.bind(null,"5373")),beforeEnter:(e,t,a)=>{B.state.auth.user?a("/"):a()}},{path:"/profile",name:"UpdateProfile",component:()=>a.e("chunk-5c516a74").then(a.bind(null,"0af9")),beforeEnter:(e,t,a)=>{B.state.auth.user&&B.state.auth.user.emailVerified?a():a("/login")}},{path:"/add-job",name:"AddJob",component:()=>a.e("chunk-1b2ca63e").then(a.bind(null,"f91a")),beforeEnter:(e,t,a)=>{var n;B.state.auth.user&&B.state.auth.user.emailVerified&&"employer"===(null===(n=B.state.auth.userInfo)||void 0===n?void 0:n.type)?a():a("/login")}},{path:"/jobs",name:"ListJobs",component:()=>Promise.all([a.e("chunk-11bf3d38"),a.e("chunk-2d0c15aa")]).then(a.bind(null,"464f")),props:e=>({where:e.query.where,what:e.query.what})},{path:"/jobs/:id?/apply",name:"ApplyJob",component:()=>Promise.all([a.e("chunk-11bf3d38"),a.e("chunk-1ebc26d6")]).then(a.bind(null,"4901")),beforeEnter:(e,t,a)=>{var n;B.state.auth.user&&B.state.auth.user.emailVerified&&"employer"!==(null===(n=B.state.auth.userInfo)||void 0===n?void 0:n.type)?a():a("/login")},props:!0},{path:"/jobs/:id?/edit",name:"EditJob",component:()=>a.e("chunk-776aa74a").then(a.bind(null,"8d17")),beforeEnter:(e,t,a)=>{var n;B.state.auth.user&&B.state.auth.user.emailVerified&&"employer"===(null===(n=B.state.auth.userInfo)||void 0===n?void 0:n.type)?a():a("/login")},props:!0},{path:"/jobs-applied",name:"JobsApplied",component:()=>a.e("chunk-9bacb288").then(a.bind(null,"75b8")),beforeEnter:(e,t,a)=>{var n;B.state.auth.user&&B.state.auth.user.emailVerified&&"employer"!==(null===(n=B.state.auth.userInfo)||void 0===n?void 0:n.type)?a():a("/login")},props:!0},{path:"/jobs/:id?/applies",name:"CandidateApplies",component:()=>a.e("chunk-582736c8").then(a.bind(null,"2c01")),beforeEnter:(e,t,a)=>{var n;B.state.auth.user&&B.state.auth.user.emailVerified&&"employer"===(null===(n=B.state.auth.userInfo)||void 0===n?void 0:n.type)?a():a("/login")},props:!0}],F=Object(b["a"])({history:Object(b["b"])(),routes:V});var x=F,q=(a("ab8b"),a("3e48"),a("9537"),a("202f"),a("f23d")),H=a("bc7b");B.dispatch("fetchUser").then(()=>{Object(n["j"])(i).use(B).use(q["a"]).use(x).mount("#app")}),console.log("Firebase Config:",h["c"]),Object(H["a"])(h["c"])},"5e56":function(e,t,a){},"835c":function(e,t,a){"use strict";a("5e56")},f9f2:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return b})),a.d(t,"d",(function(){return l}));var n=a("bc7b"),c=a("be8c"),o=a("1494"),r=a("6a92");const s={apiKey:"AIzaSyBk8NWqa8wiUVpWBGqVQWQU6ZH_oEcolIc",authDomain:"job-finder-2205f.firebaseapp.com",projectId:"job-finder-2205f",storageBucket:"job-finder-2205f.appspot.com",messagingSenderId:"1061349187563",appId:"1:1061349187563:web:03ce37a251720f1ae0c3ae"},u=Object(n["a"])(s),i=Object(c["b"])(u),b=Object(o["f"])(u),l=Object(r["b"])(u)}});
//# sourceMappingURL=app.6dfea487.js.map