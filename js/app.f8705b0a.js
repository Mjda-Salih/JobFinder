(function(e){function t(t){for(var a,c,s=t[0],u=t[1],i=t[2],b=0,d=[];b<s.length;b++)c=s[b],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&d.push(o[c][0]),o[c]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);l&&l(t);while(d.length)d.shift()();return r.push.apply(r,i||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,c=1;c<n.length;c++){var s=n[c];0!==o[s]&&(a=!1)}a&&(r.splice(t--,1),e=u(u.s=n[0]))}return e}var a={},c={app:0},o={app:0},r=[];function s(e){return u.p+"js/"+({}[e]||e)+"."+{"chunk-091e48fc":"1e82832c","chunk-095c05c1":"3a96022e","chunk-0dc640d0":"62e9c933","chunk-30cd703e":"1cf1756d","chunk-3166ba52":"99e6b801","chunk-472ede5d":"24a541ac","chunk-1ebc26d6":"845a123f","chunk-2d0c15aa":"f2d82e72","chunk-5a784d84":"26d1e8fe","chunk-4c149d92":"c2014ed9","chunk-509c4763":"b1dd0090","chunk-57997da2":"8b85f9c4","chunk-58828fc6":"8b6524db","chunk-a64b6f22":"9c40819f","chunk-dc7de8ce":"960d7135","chunk-e5107c88":"18552589"}[e]+".js"}function u(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n={"chunk-091e48fc":1,"chunk-095c05c1":1,"chunk-0dc640d0":1,"chunk-30cd703e":1,"chunk-3166ba52":1,"chunk-472ede5d":1,"chunk-1ebc26d6":1,"chunk-5a784d84":1,"chunk-4c149d92":1,"chunk-509c4763":1,"chunk-57997da2":1,"chunk-58828fc6":1,"chunk-a64b6f22":1,"chunk-dc7de8ce":1,"chunk-e5107c88":1};c[e]?t.push(c[e]):0!==c[e]&&n[e]&&t.push(c[e]=new Promise((function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-091e48fc":"cd1925b8","chunk-095c05c1":"86f9da61","chunk-0dc640d0":"7ccb2141","chunk-30cd703e":"cd1925b8","chunk-3166ba52":"5b0f663a","chunk-472ede5d":"3d425b17","chunk-1ebc26d6":"552058c2","chunk-2d0c15aa":"31d6cfe0","chunk-5a784d84":"876ee221","chunk-4c149d92":"2e48cdd4","chunk-509c4763":"3c49191d","chunk-57997da2":"58db0769","chunk-58828fc6":"e82a6dcb","chunk-a64b6f22":"07077b12","chunk-dc7de8ce":"4fdc5d77","chunk-e5107c88":"ced2dedf"}[e]+".css",o=u.p+a,r=document.getElementsByTagName("link"),s=0;s<r.length;s++){var i=r[s],b=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(b===a||b===o))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){i=d[s],b=i.getAttribute("data-href");if(b===a||b===o)return t()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=t,l.onerror=function(t){var a=t&&t.target&&t.target.src||o,r=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=a,delete c[e],l.parentNode.removeChild(l),n(r)},l.href=o;var h=document.getElementsByTagName("head")[0];h.appendChild(l)})).then((function(){c[e]=0})));var a=o[e];if(0!==a)if(a)t.push(a[2]);else{var r=new Promise((function(t,n){a=o[e]=[t,n]}));t.push(a[2]=r);var i,b=document.createElement("script");b.charset="utf-8",b.timeout=120,u.nc&&b.setAttribute("nonce",u.nc),b.src=s(e);var d=new Error;i=function(t){b.onerror=b.onload=null,clearTimeout(l);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+c+")",d.name="ChunkLoadError",d.type=a,d.request=c,n[1](d)}o[e]=void 0}};var l=setTimeout((function(){i({type:"timeout",target:b})}),12e4);b.onerror=b.onload=i,document.head.appendChild(b)}return Promise.all(t)},u.m=e,u.c=a,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)u.d(n,a,function(t){return e[t]}.bind(null,a));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/JobFinder/",u.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],b=i.push.bind(i);i.push=t,i=i.slice();for(var d=0;d<i.length;d++)t(i[d]);var l=b;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);var a=n("7a23");function c(e,t,n,c,o,r){const s=Object(a["R"])("router-view");return Object(a["I"])(),Object(a["k"])(s)}var o={name:"App",created(){Promise.all([this.$store.dispatch("getJobs"),this.$store.dispatch("getTopJobs"),this.$store.dispatch("getCountries")])}},r=(n("835c"),n("6b0d")),s=n.n(r);const u=s()(o,[["render",c]]);var i=u,b=n("6c02"),d=n("5502"),l=(n("0643"),n("4e3e"),{SET_USER(e,t){e.user=t},SET_USER_INFO(e,t){e.userInfo=t},CLEAR_USER(e){e.user=null,e.userInfo=null}}),h=n("f9f2"),p=n("be8c"),j=n("1494");const f={user:null,userInfo:null},m={get_user(e){return e.user},get_user_info(e){return e.userInfo}},O={async updateInfo({commit:e},t){let n=await Object(j["k"])(Object(j["d"])(h["b"],"users/"+h["a"].currentUser.uid),t).then(async()=>{const t=Object(j["i"])(Object(j["b"])(h["b"],"users"),Object(j["l"])("email","==",h["a"].currentUser.email)),n=await Object(j["e"])(t);n.forEach(t=>{e("SET_USER_INFO",t.data())})});return n},async getUserInfo({commit:e}){const t=Object(j["i"])(Object(j["b"])(h["b"],"users"),Object(j["l"])("email","==",h["a"].currentUser.email)),n=await Object(j["e"])(t);return n.forEach(t=>{e("SET_USER_INFO",t.data())}),n},async resetPassword(e,t){try{const e=await Object(p["d"])(h["a"],t);return e}catch(n){}},async login({commit:e},t){try{const{email:n,password:a}=t,c=await Object(p["e"])(h["a"],n,a).then(()=>{e("SET_USER",h["a"].currentUser)});return c}catch(n){}},async logout({commit:e}){const t=await Object(p["f"])(h["a"]).then(()=>{e("CLEAR_USER")});return t},async sendEmail(){const e=await Object(p["c"])(h["a"].currentUser);return e},async register({dispatch:e},t){try{const{email:n,password:a,surname:c,firstName:o,address:r,contactNumber:s,type:u}=t;let i={email:n,firstName:o,surname:c,address:r,contactNumber:s,type:u};const b=await Object(p["a"])(h["a"],n,a).then(async()=>{await Object(j["j"])(Object(j["d"])(h["b"],"users",h["a"].currentUser.uid),i),e("sendEmail")});return b}catch(n){}},fetchUser({commit:e,dispatch:t}){h["a"].onAuthStateChanged(async n=>{null===n?e("CLEAR_USER"):n&&n.emailVerified?(t("getUserInfo"),e("SET_USER",n),x.isReady()&&"/login"==x.currentRoute.value.path&&x.push("/")):x.isReady()&&x.push("/login")})}};var y={namespaced:!1,state:f,getters:m,mutations:l,actions:O},g=(n("2382"),{SET_JOBS(e,t){e.jobs=t},SET_AUTHENTICATED_JOBS(e,t){e.authenticatedJobs=t},SET_TOP_JOBS(e,t){e.topJobs=t},DELETE_JOB(e,t){e.authenticatedJobs=e.authenticatedJobs.filter(e=>e.uid_job!=t)}}),E=n("9612");const k={jobs:null,authenticatedJobs:null,topJobs:null},w={get_jobs(e){return e.jobs},get_jobs_authenticated(e){return e.authenticatedJobs},get_top_jobs(e){return e.topJobs}},_={async updateJob(e,t){const n=await Object(j["e"])(Object(j["i"])(Object(j["b"])(h["b"],"jobs"),Object(j["l"])("uid_job","==",t.uid_job),Object(j["g"])(1)));let a="";t.skills.forEach((e,n)=>{t.skills.length-1!=n?a+=e+",":a+=e});let c={title:t.title,company:t.company,location:t.location,employmentType:t.employmentType,skills:a,description:t.description,updated_at:new Date(Date.now()).toLocaleString()};n.forEach(async e=>{const t=Object(j["d"])(h["b"],"jobs",e.id);Object(j["k"])(t,c)})},async addJob(e,t){let n="";t.skills.forEach((e,a)=>{t.skills.length-1!=a?n+=e+",":n+=e});let a={title:t.title,company:t.company,location:t.location,employmentType:t.employmentType,skills:n,description:t.description,author:h["a"].currentUser.uid,uid_job:E["a"].v4(),created_at:new Date(Date.now()).toLocaleString(),views:0};const c=await Object(j["j"])(Object(j["d"])(h["b"],"jobs",a.uid_job),a);return c},async updateViews(e,t){const n=await Object(j["e"])(Object(j["i"])(Object(j["b"])(h["b"],"jobs"),Object(j["l"])("uid_job","==",t),Object(j["g"])(1)));n.forEach(async e=>{const t=Object(j["d"])(h["b"],"jobs",e.id);let n=e.data().views;await Object(j["k"])(t,{views:++n})})},async getNbrJobsPerCountry({commit:e}){const t=await Object(j["e"])(Object(j["i"])(Object(j["b"])(h["b"],"countries"))),n=await Object(j["e"])(Object(j["i"])(Object(j["b"])(h["b"],"jobs")));let a=[],c=[],o={};t.forEach(e=>{a.push(e.data())}),n.forEach(e=>{c.push(e.data())});for(let r=0;r<a.length;r++){let e=0;for(let t=0;t<c.length;t++)c[t].location.toLowerCase()===a[r].name.toLowerCase()&&++e;o[a[r].code]=e}return o},async getJobs({commit:e}){const t=await Object(j["e"])(Object(j["i"])(Object(j["b"])(h["b"],"jobs")));let n=[];t.forEach(e=>{n.push(e.data())}),e("SET_JOBS",n)},async getTopJobs({commit:e}){const t=await Object(j["e"])(Object(j["i"])(Object(j["b"])(h["b"],"jobs"),Object(j["h"])("views","desc"),Object(j["g"])(3)));let n=[];t.forEach(e=>{n.push(e.data())}),e("SET_TOP_JOBS",n)},async getEmployerJobs({commit:e},t){const n=await Object(j["e"])(Object(j["i"])(Object(j["b"])(h["b"],"jobs"),Object(j["l"])("author","==",t)));let a=[];n.forEach(e=>{a.push(e.data())}),e("SET_AUTHENTICATED_JOBS",a)},async getJob(e,t){const n=await Object(j["e"])(Object(j["i"])(Object(j["b"])(h["b"],"jobs"),Object(j["l"])("uid_job","==",t)),Object(j["g"])(1));let a=[];return n.forEach(e=>{a.push(e.data())}),a},async deleteJob({commit:e},t){const n=await Object(j["c"])(Object(j["d"])(h["b"],"jobs",t));return e("DELETE_JOB",t),n},async applyForJob(e,t){const n=await Object(j["a"])(Object(j["b"])(h["b"],"jobsApply"),t);return n},async checkUserApply(e,t){const n=Object(j["i"])(Object(j["b"])(h["b"],"jobsApply"),Object(j["l"])("jobId","==",t.jobId)),a=await Object(j["e"])(Object(j["i"])(n,Object(j["l"])("candidateEmail","==",t.candidateEmail)));let c=[];return a.forEach(e=>{c.push(e.data())}),0!=c.length}};var v={namespaced:!1,state:k,mutations:g,getters:w,actions:_},S={ADD_JOBS_APPLIED(e,t){e.jobsApply.push(...t)},CLEAR_JOBS_APPLIED(e){e.jobsApply=[]}};const A={jobsApply:[],candidateJobs:[]},J={get_jobs_apply(e){return e.jobsApply},get_candidates(e){return e.jobsApply}},T={async getJobsDetails({commit:e},t){console.table(t);const n=await Object(j["e"])(Object(j["i"])(Object(j["b"])(h["b"],"jobs"),Object(j["l"])("uid_job","==",t.jobId)));let a=[];n.forEach(e=>{let n=e.data();a.push({...t,...n})}),e("ADD_JOBS_APPLIED",a)},async getJobsApply({commit:e,dispatch:t},n){e("CLEAR_JOBS_APPLIED"),await Object(j["e"])(Object(j["i"])(Object(j["b"])(h["b"],"jobsApply"),Object(j["l"])("candidateEmail","==",n))).then(e=>{e.forEach(e=>{let n=e.data();t("getJobsDetails",n)})})},async getCandidateApplies(e,t){let n=[],a=[];const c=await Object(j["e"])(Object(j["i"])(Object(j["b"])(h["b"],"jobsApply"),Object(j["l"])("jobId","==",t)));c.forEach(e=>{n.push(e.data())});for(let o=0;o<n.length;o++){const e=await Object(j["e"])(Object(j["i"])(Object(j["b"])(h["b"],"users"),Object(j["l"])("email","==",n[o].candidateEmail)));e.forEach(e=>{let t=e.data();a.push({...n[o],...t})})}return a},async updateStatusApply(e,t){const n=Object(j["i"])(Object(j["b"])(h["b"],"jobsApply"),Object(j["l"])("jobId","==",t.jobId)),a=await Object(j["e"])(Object(j["i"])(n,Object(j["l"])("candidateEmail","==",t.candidateEmail)));a.forEach(async e=>{const n=Object(j["d"])(h["b"],"jobsApply",e.id);Object(j["k"])(n,{status:t.status})})}};var I={namespaced:!1,state:A,mutations:S,getters:J,actions:T},P={SET_COUNTRIES(e,t){e.countries=t}};const U={countries:[]},C={get_countries(e){return e.countries}},R={async getCountries({commit:e}){const t=await Object(j["e"])(Object(j["i"])(Object(j["b"])(h["b"],"countries")));let n=[];t.forEach(e=>{n.push(e.data())}),e("SET_COUNTRIES",n)}};var L={namespaced:!1,state:U,mutations:P,actions:R,getters:C},D=n("0e44");const B=Object(D["a"])({paths:["auth"]});var N=Object(d["a"])({modules:{auth:y,job:v,jobsApply:I,countries:L},plugins:[B]});const V=[{path:"/",name:"HomePage",component:()=>Promise.all([n.e("chunk-472ede5d"),n.e("chunk-5a784d84")]).then(n.bind(null,"f4a9"))},{path:"/:catchAll(.*)",name:"404",component:()=>n.e("chunk-58828fc6").then(n.bind(null,"8cdb"))},{path:"/manage-jobs",name:"ManageJobs",component:()=>n.e("chunk-091e48fc").then(n.bind(null,"79a9")),beforeEnter:(e,t,n)=>{N.state.auth.user&&N.state.auth.user.emailVerified?n():n("/login")}},{path:"/register",name:"Register",component:()=>n.e("chunk-4c149d92").then(n.bind(null,"73cf")),beforeEnter:(e,t,n)=>{N.state.auth.user?n("/"):n()}},{path:"/login",name:"Login",component:()=>n.e("chunk-e5107c88").then(n.bind(null,"a55b")),beforeEnter:(e,t,n)=>{N.state.auth.user?n("/"):n()}},{path:"/register/job-seeker",name:"RegisterJobSeeker",component:()=>n.e("chunk-0dc640d0").then(n.bind(null,"ab88")),beforeEnter:(e,t,n)=>{N.state.auth.user?n("/"):n()}},{path:"/register/employer",name:"RegisterEmployer",component:()=>n.e("chunk-57997da2").then(n.bind(null,"9764")),beforeEnter:(e,t,n)=>{N.state.auth.user?n("/"):n()}},{path:"/forget-password",name:"ForgetPassword",component:()=>n.e("chunk-3166ba52").then(n.bind(null,"5373")),beforeEnter:(e,t,n)=>{N.state.auth.user?n("/"):n()}},{path:"/profile",name:"UpdateProfile",component:()=>n.e("chunk-dc7de8ce").then(n.bind(null,"0af9")),beforeEnter:(e,t,n)=>{N.state.auth.user&&N.state.auth.user.emailVerified?n():n("/login")}},{path:"/add-job",name:"AddJob",component:()=>n.e("chunk-509c4763").then(n.bind(null,"f91a")),beforeEnter:(e,t,n)=>{var a;N.state.auth.user&&N.state.auth.user.emailVerified&&"employer"===(null===(a=N.state.auth.userInfo)||void 0===a?void 0:a.type)?n():n("/login")}},{path:"/jobs",name:"ListJobs",component:()=>Promise.all([n.e("chunk-472ede5d"),n.e("chunk-2d0c15aa")]).then(n.bind(null,"464f")),props:e=>({where:e.query.where,what:e.query.what})},{path:"/jobs/:id?/apply",name:"ApplyJob",component:()=>Promise.all([n.e("chunk-472ede5d"),n.e("chunk-1ebc26d6")]).then(n.bind(null,"4901")),beforeEnter:(e,t,n)=>{var a;N.state.auth.user&&N.state.auth.user.emailVerified&&"employer"!==(null===(a=N.state.auth.userInfo)||void 0===a?void 0:a.type)?n():n("/login")},props:!0},{path:"/jobs/:id?/edit",name:"EditJob",component:()=>n.e("chunk-a64b6f22").then(n.bind(null,"8d17")),beforeEnter:(e,t,n)=>{var a;N.state.auth.user&&N.state.auth.user.emailVerified&&"employer"===(null===(a=N.state.auth.userInfo)||void 0===a?void 0:a.type)?n():n("/login")},props:!0},{path:"/jobs-applied",name:"JobsApplied",component:()=>n.e("chunk-30cd703e").then(n.bind(null,"75b8")),beforeEnter:(e,t,n)=>{var a;N.state.auth.user&&N.state.auth.user.emailVerified&&"employer"!==(null===(a=N.state.auth.userInfo)||void 0===a?void 0:a.type)?n():n("/login")},props:!0},{path:"/jobs/:id?/applies",name:"CandidateApplies",component:()=>n.e("chunk-095c05c1").then(n.bind(null,"2c01")),beforeEnter:(e,t,n)=>{var a;N.state.auth.user&&N.state.auth.user.emailVerified&&"employer"===(null===(a=N.state.auth.userInfo)||void 0===a?void 0:a.type)?n():n("/login")},props:!0}],F=Object(b["a"])({history:Object(b["b"])(),routes:V});var x=F,q=(n("ab8b"),n("3e48"),n("9537"),n("202f"),n("f23d")),H=n("bc7b");N.dispatch("fetchUser").then(()=>{Object(a["j"])(i).use(N).use(q["a"]).use(x).mount("#app")}),console.log("Firebase Config:",h["c"]),Object(H["a"])(h["c"])},"5e56":function(e,t,n){},"835c":function(e,t,n){"use strict";n("5e56")},f9f2:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return d}));var a=n("bc7b"),c=n("be8c"),o=n("1494"),r=n("6a92");const s={apiKey:"AIzaSyBk8NWqa8wiUVpWBGqVQWQU6ZH_oEcolIc",authDomain:"job-finder-2205f.firebaseapp.com",projectId:"job-finder-2205f",storageBucket:"job-finder-2205f.appspot.com",messagingSenderId:"1061349187563",appId:"1:1061349187563:web:03ce37a251720f1ae0c3ae"},u=Object(a["a"])(s),i=Object(c["b"])(u),b=Object(o["f"])(u),d=Object(r["b"])(u)}});
//# sourceMappingURL=app.f8705b0a.js.map