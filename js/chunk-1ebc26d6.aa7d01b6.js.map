{"version":3,"sources":["webpack:///./src/views/ApplyJob.vue","webpack:///./src/components/ApplyForm.vue","webpack:///./src/components/ApplyForm.vue?d111","webpack:///./src/views/ApplyJob.vue?09a4","webpack:///./src/components/ApplyForm.vue?51f1","webpack:///./node_modules/core-js/modules/esnext.iterator.find.js"],"names":["_createBlock","_component_Layout","_createVNode","_component_ApplyForm","class","type","disabled","_createElementVNode","_hoisted_1","$data","_component_a_spin","size","_hoisted_2","_component_JobCard","job","apply","_createElementBlock","_hoisted_3","_hoisted_4","_component_a_alert","message","show-icon","onSubmit","$options","_hoisted_5","onChange","required","_component_a_progress","percent","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_component_a_result","status","title","extra","_component_router_link","to","_component_a_button","key","_cache","name","components","JobCard","data","formState","cv_link","prog","checkApply","computed","mapGetters","jobs","user","methods","openNotificationWithIcon","notification","description","handleSubmit","candidateEmail","this","email","jobId","$route","params","id","candidateCV","$store","dispatch","then","setTimeout","$router","push","changeFile","e","file","target","files","storageRef","ref","storage","uploadTask","uploadBytesResumable","on","snapshot","Math","round","bytesTransferred","totalBytes","err","console","log","getDownloadURL","url","beforeCreate","find","item","uid_job","resp","__exports__","Layout","ApplyForm","render","$","iterate","aCallable","anObject","proto","real","forced","fn","value","stop","IS_ITERATOR","INTERRUPTED","result"],"mappings":"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","file":"js/chunk-1ebc26d6.aa7d01b6.js","sourcesContent":["<template>\r\n    <Layout>\r\n        <ApplyForm />\r\n    </Layout>\r\n</template>\r\n<script>\r\nimport ApplyForm from '@/components/ApplyForm.vue'\r\nimport Layout from './Layout/Layout.vue'\r\nexport default {\r\n    name: 'ApplyJob',\r\n    components:{\r\n        Layout,\r\n        ApplyForm\r\n    }\r\n}\r\n</script>\r\n<style>\r\n    \r\n</style>","<template>\r\n  <div class=\"row\">\r\n    <a-spin v-if=\"!job\" size=\"large\" />\r\n    <div class=\"col-md-6 custom__form\">\r\n      <JobCard :job=\"job\" :apply=\"true\" />\r\n    </div>\r\n  </div>\r\n  <div v-if=\"job && !checkApply\" class=\"row text-center custom__form\">\r\n    <div class=\"col-md-8 col-lg-6 form__inputs\">\r\n      <p><span class=\"title\">Apply Job</span></p>\r\n\r\n      <a-alert\r\n        v-if=\"cv_link != ''\"\r\n        message=\"CV Uploaded Successfully\"\r\n        type=\"success\"\r\n        show-icon\r\n      />\r\n      <form @submit.prevent=\"handleSubmit\">\r\n        <div class=\"form-group\">\r\n          <input\r\n            type=\"file\"\r\n            class=\"form-control\"\r\n            @change=\"changeFile\"\r\n            required\r\n          />\r\n        </div>\r\n        <a-progress v-if=\"cv_link == ''\" :percent=\"prog\" size=\"small\" />\r\n        <button\r\n          v-if=\"cv_link != ''\"\r\n          type=\"submit\"\r\n          class=\"btn btn-primary custom__button my-3\"\r\n        >\r\n          Apply\r\n        </button>\r\n        <button v-else class=\"btn btn-primary custom__button my-3\" disabled>\r\n          Apply\r\n        </button>\r\n      </form>\r\n    </div>\r\n  </div>\r\n  <div v-if=\"job && checkApply\" class=\"row text-center custom__form\">\r\n    <div class=\"col-md-8 col-lg-6 form__inputs\">\r\n      <p><span class=\"title\">Already Applied</span></p>\r\n      <a-result status=\"warning\" title=\"You've already applied for this job.\">\r\n        <template #extra>\r\n          <router-link to=\"/jobs\">\r\n            <a-button key=\"console\" type=\"primary\">Job Offers</a-button>\r\n          </router-link>\r\n        </template>\r\n      </a-result>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport JobCard from \"./JobCard.vue\";\r\nimport { mapGetters } from \"vuex\";\r\nimport { storage } from \"../firebase/index\";\r\nimport { getDownloadURL, ref, uploadBytesResumable } from \"firebase/storage\";\r\nimport { notification } from \"ant-design-vue\";\r\nexport default {\r\n  name: \"ApplyForm\",\r\n  components: {\r\n    JobCard,\r\n  },\r\n  data() {\r\n    return {\r\n      formState: {},\r\n      job: null,\r\n      cv_link: \"\",\r\n      prog: 0,\r\n      checkApply: false,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      jobs: \"get_jobs\",\r\n      user: \"get_user\",\r\n    }),\r\n  },\r\n  methods: {\r\n    openNotificationWithIcon() {\r\n      notification[\"success\"]({\r\n        message: \"Applied Successfully\",\r\n        description: \"Thank you for applying\",\r\n      });\r\n    },\r\n    handleSubmit() {\r\n      let data = {\r\n        candidateEmail: this.user.email,\r\n        jobId: this.$route.params.id,\r\n        candidateCV: this.cv_link,\r\n        status: \"Sent\",\r\n      };\r\n      this.$store.dispatch(\"applyForJob\", data).then(() => {\r\n        this.openNotificationWithIcon();\r\n        setTimeout(() => {\r\n          this.$router.push(\"/jobs\");\r\n        }, 1500);\r\n      });\r\n    },\r\n    changeFile(e) {\r\n      this.cv_link = \"\";\r\n      const file = e.target.files[0];\r\n      const storageRef = ref(storage, `cv/${file.name}`);\r\n      const uploadTask = uploadBytesResumable(storageRef, file);\r\n\r\n      uploadTask.on(\r\n        \"state_changed\",\r\n        (snapshot) => {\r\n          const prog = Math.round(\r\n            (snapshot.bytesTransferred / snapshot.totalBytes) * 100\r\n          );\r\n          this.prog = prog;\r\n        },\r\n        (err) => console.log(err),\r\n        () => {\r\n          getDownloadURL(uploadTask.snapshot.ref).then(\r\n            (url) => (this.cv_link = url)\r\n          );\r\n        }\r\n      );\r\n    },\r\n  },\r\n  beforeCreate() {\r\n    this.$store.dispatch(\"getJobs\").then(() => {\r\n      this.job = this.jobs.find(\r\n        (item) => item.uid_job == this.$route.params.id\r\n      );\r\n      let data = {\r\n        jobId: this.$route.params.id,\r\n        candidateEmail: this.user.email,\r\n      };\r\n      this.$store.dispatch(\"checkUserApply\", data).then((resp) => {\r\n        this.checkApply = resp;\r\n      });\r\n      this.$store.dispatch(\"updateViews\", data.jobId);\r\n    });\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.title {\r\n  font-size: 30px;\r\n  font-weight: 600;\r\n}\r\n\r\n.custom__form {\r\n  justify-content: center;\r\n  margin: auto;\r\n  padding: 30px 0px;\r\n}\r\n\r\n.form__inputs {\r\n  background: #eeeeee;\r\n  padding: 40px;\r\n}\r\n\r\n.form-group {\r\n  margin: 30px 0px;\r\n}\r\n\r\n.subtitle {\r\n  font-size: 15px;\r\n  font-weight: 500;\r\n}\r\n\r\n.custom__button {\r\n  width: 200px;\r\n  height: 60px;\r\n  border-radius: unset;\r\n}\r\n</style>\r\n","import { render } from \"./ApplyForm.vue?vue&type=template&id=26800ee2&scoped=true\"\nimport script from \"./ApplyForm.vue?vue&type=script&lang=js\"\nexport * from \"./ApplyForm.vue?vue&type=script&lang=js\"\n\nimport \"./ApplyForm.vue?vue&type=style&index=0&id=26800ee2&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\JobFinder\\\\MjdaSalih18035084Project\\\\job-protail-app\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-26800ee2\"]])\n\nexport default __exports__","import { render } from \"./ApplyJob.vue?vue&type=template&id=4f11383d\"\nimport script from \"./ApplyJob.vue?vue&type=script&lang=js\"\nexport * from \"./ApplyJob.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\JobFinder\\\\MjdaSalih18035084Project\\\\job-protail-app\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ApplyForm.vue?vue&type=style&index=0&id=26800ee2&scoped=true&lang=css\"","'use strict';\n// https://github.com/tc39/proposal-iterator-helpers\nvar $ = require('../internals/export');\nvar iterate = require('../internals/iterate');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\n\n$({ target: 'Iterator', proto: true, real: true, forced: true }, {\n  find: function find(fn) {\n    anObject(this);\n    aCallable(fn);\n    return iterate(this, function (value, stop) {\n      if (fn(value)) return stop(value);\n    }, { IS_ITERATOR: true, INTERRUPTED: true }).result;\n  }\n});\n"],"sourceRoot":""}