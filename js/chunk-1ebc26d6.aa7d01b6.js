(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ebc26d6"],{"1bc7":function(t,e,c){},4901:function(t,e,c){"use strict";c.r(e);var s=c("f2bf");function o(t,e,c,o,n,b){const a=Object(s["P"])("ApplyForm"),i=Object(s["P"])("Layout");return Object(s["I"])(),Object(s["k"])(i,null,{default:Object(s["cb"])(()=>[Object(s["q"])(a)]),_:1})}const n={class:"row"},b={class:"col-md-6 custom__form"},a={key:0,class:"row text-center custom__form"},i={class:"col-md-8 col-lg-6 form__inputs"},l={class:"form-group"},r={key:1,type:"submit",class:"btn btn-primary custom__button my-3"},p={key:2,class:"btn btn-primary custom__button my-3",disabled:""},u={key:1,class:"row text-center custom__form"},j={class:"col-md-8 col-lg-6 form__inputs"};function d(t,e,c,o,d,O){const m=Object(s["P"])("a-spin"),h=Object(s["P"])("JobCard"),f=Object(s["P"])("a-alert"),y=Object(s["P"])("a-progress"),_=Object(s["P"])("a-button"),k=Object(s["P"])("router-link"),g=Object(s["P"])("a-result");return Object(s["I"])(),Object(s["m"])(s["b"],null,[Object(s["n"])("div",n,[d.job?Object(s["l"])("",!0):(Object(s["I"])(),Object(s["k"])(m,{key:0,size:"large"})),Object(s["n"])("div",b,[Object(s["q"])(h,{job:d.job,apply:!0},null,8,["job"])])]),d.job&&!d.checkApply?(Object(s["I"])(),Object(s["m"])("div",a,[Object(s["n"])("div",i,[e[2]||(e[2]=Object(s["n"])("p",null,[Object(s["n"])("span",{class:"title"},"Apply Job")],-1)),""!=d.cv_link?(Object(s["I"])(),Object(s["k"])(f,{key:0,message:"CV Uploaded Successfully",type:"success","show-icon":""})):Object(s["l"])("",!0),Object(s["n"])("form",{onSubmit:e[1]||(e[1]=Object(s["eb"])((...t)=>O.handleSubmit&&O.handleSubmit(...t),["prevent"]))},[Object(s["n"])("div",l,[Object(s["n"])("input",{type:"file",class:"form-control",onChange:e[0]||(e[0]=(...t)=>O.changeFile&&O.changeFile(...t)),required:""},null,32)]),""==d.cv_link?(Object(s["I"])(),Object(s["k"])(y,{key:0,percent:d.prog,size:"small"},null,8,["percent"])):Object(s["l"])("",!0),""!=d.cv_link?(Object(s["I"])(),Object(s["m"])("button",r," Apply ")):(Object(s["I"])(),Object(s["m"])("button",p," Apply "))],32)])])):Object(s["l"])("",!0),d.job&&d.checkApply?(Object(s["I"])(),Object(s["m"])("div",u,[Object(s["n"])("div",j,[e[4]||(e[4]=Object(s["n"])("p",null,[Object(s["n"])("span",{class:"title"},"Already Applied")],-1)),Object(s["q"])(g,{status:"warning",title:"You've already applied for this job."},{extra:Object(s["cb"])(()=>[Object(s["q"])(k,{to:"/jobs"},{default:Object(s["cb"])(()=>[Object(s["q"])(_,{key:"console",type:"primary"},{default:Object(s["cb"])(()=>e[3]||(e[3]=[Object(s["p"])("Job Offers")])),_:1})]),_:1})]),_:1})])])):Object(s["l"])("",!0)],64)}c("0643"),c("fffc");var O=c("c452"),m=c("5502"),h=c("f9f2"),f=c("6a92"),y=c("56cd"),_={name:"ApplyForm",components:{JobCard:O["a"]},data(){return{formState:{},job:null,cv_link:"",prog:0,checkApply:!1}},computed:{...Object(m["b"])({jobs:"get_jobs",user:"get_user"})},methods:{openNotificationWithIcon(){y["a"]["success"]({message:"Applied Successfully",description:"Thank you for applying"})},handleSubmit(){let t={candidateEmail:this.user.email,jobId:this.$route.params.id,candidateCV:this.cv_link,status:"Sent"};this.$store.dispatch("applyForJob",t).then(()=>{this.openNotificationWithIcon(),setTimeout(()=>{this.$router.push("/jobs")},1500)})},changeFile(t){this.cv_link="";const e=t.target.files[0],c=Object(f["c"])(h["d"],"cv/"+e.name),s=Object(f["d"])(c,e);s.on("state_changed",t=>{const e=Math.round(t.bytesTransferred/t.totalBytes*100);this.prog=e},t=>console.log(t),()=>{Object(f["a"])(s.snapshot.ref).then(t=>this.cv_link=t)})}},beforeCreate(){this.$store.dispatch("getJobs").then(()=>{this.job=this.jobs.find(t=>t.uid_job==this.$route.params.id);let t={jobId:this.$route.params.id,candidateEmail:this.user.email};this.$store.dispatch("checkUserApply",t).then(t=>{this.checkApply=t}),this.$store.dispatch("updateViews",t.jobId)})}},k=(c("f22d"),c("6b0d")),g=c.n(k);const v=g()(_,[["render",d],["__scopeId","data-v-26800ee2"]]);var I=v,A=c("32e9"),w={name:"ApplyJob",components:{Layout:A["a"],ApplyForm:I}};const P=g()(w,[["render",o]]);e["default"]=P},f22d:function(t,e,c){"use strict";c("1bc7")},fffc:function(t,e,c){"use strict";var s=c("23e7"),o=c("2266"),n=c("59ed"),b=c("825a");s({target:"Iterator",proto:!0,real:!0,forced:!0},{find:function(t){return b(this),n(t),o(this,(function(e,c){if(t(e))return c(e)}),{IS_ITERATOR:!0,INTERRUPTED:!0}).result}})}}]);
//# sourceMappingURL=chunk-1ebc26d6.aa7d01b6.js.map