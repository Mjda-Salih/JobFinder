(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ebc26d6"],{"1bc7":function(t,e,c){},4901:function(t,e,c){"use strict";c.r(e);var s=c("7a23");function o(t,e,c,o,n,b){const a=Object(s["R"])("ApplyForm"),i=Object(s["R"])("Layout");return Object(s["I"])(),Object(s["k"])(i,null,{default:Object(s["eb"])(()=>[Object(s["q"])(a)]),_:1})}const n=t=>(Object(s["L"])("data-v-26800ee2"),t=t(),Object(s["J"])(),t),b={class:"row"},a={class:"col-md-6 custom__form"},i={key:0,class:"row text-center custom__form"},l={class:"col-md-8 col-lg-6 form__inputs"},r=n(()=>Object(s["n"])("p",null,[Object(s["n"])("span",{class:"title"},"Apply Job")],-1)),p={class:"form-group"},u={key:1,type:"submit",class:"btn btn-primary custom__button my-3"},j={key:2,class:"btn btn-primary custom__button my-3",disabled:""},d={key:1,class:"row text-center custom__form"},O={class:"col-md-8 col-lg-6 form__inputs"},m=n(()=>Object(s["n"])("p",null,[Object(s["n"])("span",{class:"title"},"Already Applied")],-1)),h=Object(s["p"])("Job Offers");function f(t,e,c,o,n,f){const y=Object(s["R"])("a-spin"),_=Object(s["R"])("JobCard"),k=Object(s["R"])("a-alert"),g=Object(s["R"])("a-progress"),v=Object(s["R"])("a-button"),I=Object(s["R"])("router-link"),A=Object(s["R"])("a-result");return Object(s["I"])(),Object(s["m"])(s["b"],null,[Object(s["n"])("div",b,[n.job?Object(s["l"])("",!0):(Object(s["I"])(),Object(s["k"])(y,{key:0,size:"large"})),Object(s["n"])("div",a,[Object(s["q"])(_,{job:n.job,apply:!0},null,8,["job"])])]),n.job&&!n.checkApply?(Object(s["I"])(),Object(s["m"])("div",i,[Object(s["n"])("div",l,[r,""!=n.cv_link?(Object(s["I"])(),Object(s["k"])(k,{key:0,message:"CV Uploaded Successfully",type:"success","show-icon":""})):Object(s["l"])("",!0),Object(s["n"])("form",{onSubmit:e[1]||(e[1]=Object(s["gb"])((...t)=>f.handleSubmit&&f.handleSubmit(...t),["prevent"]))},[Object(s["n"])("div",p,[Object(s["n"])("input",{type:"file",class:"form-control",onChange:e[0]||(e[0]=(...t)=>f.changeFile&&f.changeFile(...t)),required:""},null,32)]),""==n.cv_link?(Object(s["I"])(),Object(s["k"])(g,{key:0,percent:n.prog,size:"small"},null,8,["percent"])):Object(s["l"])("",!0),""!=n.cv_link?(Object(s["I"])(),Object(s["m"])("button",u," Apply ")):(Object(s["I"])(),Object(s["m"])("button",j," Apply "))],32)])])):Object(s["l"])("",!0),n.job&&n.checkApply?(Object(s["I"])(),Object(s["m"])("div",d,[Object(s["n"])("div",O,[m,Object(s["q"])(A,{status:"warning",title:"You've already applied for this job."},{extra:Object(s["eb"])(()=>[Object(s["q"])(I,{to:"/jobs"},{default:Object(s["eb"])(()=>[Object(s["q"])(v,{key:"console",type:"primary"},{default:Object(s["eb"])(()=>[h]),_:1})]),_:1})]),_:1})])])):Object(s["l"])("",!0)],64)}c("0643"),c("fffc");var y=c("c452"),_=c("5502"),k=c("f9f2"),g=c("6a92"),v=c("56cd"),I={name:"ApplyForm",components:{JobCard:y["a"]},data(){return{formState:{},job:null,cv_link:"",prog:0,checkApply:!1}},computed:{...Object(_["b"])({jobs:"get_jobs",user:"get_user"})},methods:{openNotificationWithIcon(){v["a"]["success"]({message:"Applied Successfully",description:"Thank you for applying"})},handleSubmit(){let t={candidateEmail:this.user.email,jobId:this.$route.params.id,candidateCV:this.cv_link,status:"Sent"};this.$store.dispatch("applyForJob",t).then(()=>{this.openNotificationWithIcon(),setTimeout(()=>{this.$router.push("/jobs")},1500)})},changeFile(t){this.cv_link="";const e=t.target.files[0],c=Object(g["c"])(k["d"],"cv/"+e.name),s=Object(g["d"])(c,e);s.on("state_changed",t=>{const e=Math.round(t.bytesTransferred/t.totalBytes*100);this.prog=e},t=>console.log(t),()=>{Object(g["a"])(s.snapshot.ref).then(t=>this.cv_link=t)})}},beforeCreate(){this.$store.dispatch("getJobs").then(()=>{this.job=this.jobs.find(t=>t.uid_job==this.$route.params.id);let t={jobId:this.$route.params.id,candidateEmail:this.user.email};this.$store.dispatch("checkUserApply",t).then(t=>{this.checkApply=t}),this.$store.dispatch("updateViews",t.jobId)})}},A=(c("f22d"),c("6b0d")),R=c.n(A);const w=R()(I,[["render",f],["__scopeId","data-v-26800ee2"]]);var J=w,S=c("32e9"),$={name:"ApplyJob",components:{Layout:S["a"],ApplyForm:J}};const F=R()($,[["render",o]]);e["default"]=F},f22d:function(t,e,c){"use strict";c("1bc7")},fffc:function(t,e,c){"use strict";var s=c("23e7"),o=c("2266"),n=c("59ed"),b=c("825a");s({target:"Iterator",proto:!0,real:!0,forced:!0},{find:function(t){return b(this),n(t),o(this,(function(e,c){if(t(e))return c(e)}),{IS_ITERATOR:!0,INTERRUPTED:!0}).result}})}}]);
//# sourceMappingURL=chunk-1ebc26d6.845a123f.js.map